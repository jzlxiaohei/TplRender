!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.TplRender=e()}}(function(){return function e(t,r,i){function n(a,u){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(e){var r=t[a][1][e];return n(r?r:e)},f,f.exports,e,t,r,i)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t){function r(e,t){return e.replace(f,function(e,r){var i=u.getValue(t,r);return i||(i=e),i})}function i(e,t){var r=e.getAttribute("z-if");e.removeAttribute("z-if");var i=u.getValue(t,r);return i||e.parentNode.removeChild(e),i}function n(e,t,r){var i=u.getValue(e,r);return u.isArray(i)?new a(t,i):void console.error(r+" in z-repeat should be array")}function o(){var e=this.$$ele,t=this.$$data,o=new s;for(o.push(e);!o.isEmpty();){var a=o.pop();switch(a.nodeType){case 2:a.value=r(a.value,t);break;case 3:a.nodeValue=r(a.nodeValue,t);break;case 1:if(a.hasAttribute("z-repeat")){var f=a.getAttribute("z-repeat");a.removeAttribute("z-repeat"),u.setValueSafe(this,f,n(t,a,f));break}if(a.hasAttribute("z-if")&&!i(a,t))break;o.push(a.childNodes),o.push(a.attributes)}}}function a(e,t){this.$$parentNode=e.parentNode,this.$$ele=e;var r=document.createDocumentFragment();this.$$parentNode.removeChild(e);var i;this.$$DdObjArr=[],this.dataArr=t;for(var n=0;n<t.length;n++)i=e.cloneNode(!0),this.$$DdObjArr.push(new l(i,t[n])),r.appendChild(i);this.$$parentNode.appendChild(r)}var u=e("./utils"),s=e("./stack"),f=/\{\{([\w|\.]+)\}\}/g,l=function(e,t){this.$$ele=e,this.$$data=t,o.call(this)};a.prototype={$insertBefore:function(e,t){var r=this.$$ele.cloneNode(!0),i=this.$$DdObjArr[e].$$ele;this.dataArr.splice(e,0,t),this.$$DdObjArr.splice(e,0,new l(r,t)),this.$$parentNode.insertBefore(r,i)},$push:function(e){var t=this.$$ele.cloneNode(!0);this.$$DdObjArr.push(new l(t,e)),this.dataArr.push(e),this.$$parentNode.appendChild(t)},$remove:function(e){var t=this.$$DdObjArr[e],r=t.$$ele;return this.dataArr.splice(e,1),this.$$DdObjArr.splice(e,1),this.$$parentNode.removeChild(r),{ele:r,data:t.$$data}},$removeByFilter:function(e,t){var r=this.$$DdObjArr,i=[];if("function"==typeof e)for(var n=0;n<r.length;n++){var o=r[n];if(e(o.$$ele,o.$$data)){var a=this.$remove.call(this,n,key,value);if(i.push(a),!t)return a}}else for(var n=0;n<r.length;n++)if(e==r[n].$$ele){var a=this.$remove.call(this,n,key,value);if(i.push(a),!t)return a}return i}},t.exports=function(e,t){return new l(e,t)}},{"./stack":2,"./utils":3}],2:[function(e,t){function r(){this.items=[]}var i=e("./utils").isArrayLike;r.prototype={isEmpty:function(){return 0==this.items.length},push:function(e){if(i(e))for(var t=0;t<e.length;t++)this.items.push(e[t]);else this.items.push(e)},pop:function(){return this.items.pop()}},t.exports=r},{"./utils":3}],3:[function(e,t){function r(e,t){for(var r=t.split("."),i=e[r[0]],n=1;n<r.length;n++){if(void 0==i)return void 0;i=i[r[n]]}return i}function i(e,t,r){for(var i=t.split("."),n=e,o=0;o<i.length-1;o++)n=n[i[o]]=n[i[o]]||{};n[i[o]]=r}var n=Object.prototype.toString,o=function(e){return"[object Array]"===n.call(e)},a=function(e){return o(e)||"object"==typeof e&&"number"==typeof e.length};t.exports={isArray:o,isArrayLike:a,getValue:r,setValueSafe:i}},{}]},{},[1])(1)});